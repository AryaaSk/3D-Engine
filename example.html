<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="/JS/Typescript/Utilities/canvasUtilities.js"></script>
    <script src="/JS/Typescript/Utilities/utilities.js"></script>
    <script src="/JS/Typescript/Scene/objects.js"></script>
    <script src="/JS/Typescript/Scene/camera.js"></script>

    <!-- <script src="JS/aryaa3D.js"></script> -->

    <!-- <script src="https://gitcdn.link/cdn/AryaaSk/3D-Engine/cdb928b0e1f0a113aca81fd8ebdc264e89edc708/JS/aryaa3D.js"></script> -->
    <title>3D Engine</title>

    <style>
        body
        {
            margin: 0;
        }
        #renderingWindow
        {
            height: 100vh;
            width: 100vw;
        }
    </style>
</head>
<body>
    
    <h1 style="text-align: center; position: absolute; left: 0; right: 0; margin-top: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
        Rotate the world with the mouse <br>
        Hold alt and move mouse to move camera <br>
        Scroll up/down to zoom in/out of the point
    </h1>

    <canvas id="renderingWindow"></canvas>

    <script>
        linkCanvas("renderingWindow");

        const camera = new Camera();
        camera.worldRotation.x = -20;
        camera.worldRotation.y = 20;
        camera.updateRotationMatrix();
        camera.enableMovementControls("renderingWindow", true, true, true);

        const cube = new Box(100, 100, 100);
        cube.scale = 1;
        cube.position.x = 300;
        cube.faces[5].colour = ""; //back face is transparent
        cube.updateMatrices();

        const pyramid = new SquareBasedPyramid(50, 100);
        pyramid.position.x = -300;
        pyramid.scale = 2;
        pyramid.showOutline = true;
        pyramid.showFaceIndexes = true;
        pyramid.updateMatrices();

        const triangularPrism = new TriangularPrism(100, 100, 400);
        triangularPrism.showOutline = true;
        triangularPrism.position.z = 600;

        const elongatedOctahedron = new ElongatedOctahedron(200, 200, 200);
        elongatedOctahedron.showOutline = true;
        elongatedOctahedron.faces[8].colour = ""; //top half is transparent, now it looks like a bowl
        elongatedOctahedron.faces[9].colour = "";
        elongatedOctahedron.faces[10].colour = "";
        elongatedOctahedron.faces[11].colour = "";

        setInterval(() => { //animation loop
            cube.rotation.y += 1;
            cube.rotation.z += 1;
            cube.updateMatrices();

            clearCanvas();
            camera.renderGrid();
            camera.render([cube, pyramid, triangularPrism, elongatedOctahedron]);

            plotPoint([0, 0], "#000000"); //a visual marker of where it will zoom into
        }, 16);
    </script>

</body>
</html>